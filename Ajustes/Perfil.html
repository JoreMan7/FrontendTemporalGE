<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Perfil - GESTIÓN ECLESIAL</title>

  <link rel="shortcut icon" href="../Img/Logo_Favicon.png" type="image/x-icon">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
  <link rel="stylesheet" href="../statics/css/app.css">
</head>

<body class="BodyPlantilla" data-module="perfil">
  <!-- Sidebar -->
  <aside class="Sidebar" id="sidebar">
    <div class="LogoContainer">
      <img src="../Img/Logo_(Vertical).png" alt="Eclesial Logo" class="Logo">
    </div>
    <nav class="NavMenu">
      <a href="../NavInicio.html" class="NavItem"><i class="fas fa-home"></i><span class="NavText">Inicio</span></a>
      <a href="../NavOficina.html" class="NavItem"><i class="bi bi-suitcase-lg-fill"></i><span class="NavText">Oficina</span></a>
      <a href="../NavEstadisticas.html" class="NavItem"><i class="fas fa-calculator"></i><span class="NavText">Estadísticas</span></a>
      <a href="../NavAjustes.html" class="NavItem active"><i class="fas fa-cog"></i><span class="NavText">Ajustes</span></a>
      <a href="../About.html" class="NavItem"><i class="bi-info-circle"></i><span class="NavText">Acerca De</span></a>
    </nav>
  </aside>

  <!-- Contenido -->
  <main class="MainContent">
    <header class="TopBar">
      <div class="UserInfo">
        <img src="../Img/sacerdote.jpg" alt="Avatar" class="UserAvatar">
        <div class="UserDetails">
          <h2 class="UserName">Usuario</h2>
          <p class="CurrentDate" id="CurrentDate"></p>
        </div>
      </div>
      <div class="MobileLogo">
        <img src="../Img/Logo_Mobile.png" alt="Logo Eclesial">
      </div>
      <div class="HeaderActions">
        <button class="btn btn-help help">Ayuda</button>
        <div class="Divider"></div>
        <button class="btn btn-logout logout">Cerrar sesión</button>
      </div>
    </header>

    <section class="Content">
      <div class="container-fluid py-4">
        <!-- Encabezado moderno del perfil -->
        <div class="row mb-4">
          <div class="col-12">
            <div class="d-flex align-items-center gap-3 mb-3">
              <i class="bi bi-person-circle" style="font-size: 2rem; color: var(--bs-primary);"></i>
              <div>
                <h1 class="h3 mb-0">Mi Perfil</h1>
                <p class="text-muted mb-0 small">Gestiona tu información personal</p>
              </div>
            </div>
          </div>
        </div>

        <div class="row g-4">
          <!-- ===== Columna Izquierda ===== -->
          <div class="col-12 col-lg-4">
            <!-- Tarjeta de perfil modernizada -->
            <div class="card shadow-sm border-0 mb-4">
              <div class="card-body text-center p-4">
                <div class="position-relative d-inline-block mb-3">
                  <img class="UserAvatar rounded-circle border border-3 border-white shadow" 
                       src="../Img/sacerdote.jpg" 
                       alt="Avatar" 
                       style="width:120px;height:120px;object-fit:cover;">
                  <!-- Badge de estado activo -->
                  <span class="position-absolute bottom-0 end-0 bg-success rounded-circle border border-2 border-white" 
                        style="width:24px;height:24px;"
                        title="Cuenta activa"></span>
                </div>
                <h4 class="UserName mb-1 fw-bold">Usuario</h4>
                <div class="small text-muted mb-3">
                  <i class="bi bi-shield-check me-1"></i>
                  <span id="user-role-badge">Usuario</span>
                </div>
              </div>
            </div>

            <!-- Información de cuenta modernizada -->
            <div class="card shadow-sm border-0">
              <div class="card-header bg-transparent border-bottom">
                <div class="d-flex align-items-center gap-2">
                  <i class="bi bi-person-gear text-primary"></i>
                  <h6 class="mb-0 fw-semibold">Información de Cuenta</h6>
                </div>
              </div>
              <div class="card-body p-3">
                <form id="account-form">
                  <div class="mb-3">
                    <label class="form-label small text-muted mb-1">
                      <i class="bi bi-award me-1"></i> Rol
                    </label>
                    <input name="RolNombre" type="text" class="form-control form-control-sm" disabled>
                  </div>
                  <div class="mb-0">
                    <label class="form-label small text-muted mb-1">
                      <i class="bi bi-calendar-check me-1"></i> Fecha de registro
                    </label>
                    <input name="FechaRegistroUsuario" type="datetime-local" class="form-control form-control-sm" disabled>
                  </div>
                </form>
              </div>
            </div>
          </div>

          <!-- ===== Columna Derecha ===== -->
          <div class="col-12 col-lg-8">
            <!-- Datos personales modernizados -->
            <div class="card shadow-sm border-0 mb-4">
              <div class="card-header bg-transparent border-bottom">
                <div class="d-flex align-items-center justify-content-between">
                  <div class="d-flex align-items-center gap-2">
                    <i class="bi bi-card-checklist text-primary"></i>
                    <h6 class="mb-0 fw-semibold">Datos Personales</h6>
                  </div>
                  <span class="badge bg-light text-dark small">Editable</span>
                </div>
              </div>
              <div class="card-body p-4">
                <form id="profile-form" class="row g-3">
                  <!-- Nombre y Apellido -->
                  <div class="col-12 col-md-6">
                    <label class="form-label small fw-semibold">
                      <i class="bi bi-person me-1"></i> Nombre *
                    </label>
                    <input name="Nombre" type="text" class="form-control" required>
                  </div>
                  <div class="col-12 col-md-6">
                    <label class="form-label small fw-semibold">
                      <i class="bi bi-person me-1"></i> Apellido *
                    </label>
                    <input name="Apellido" type="text" class="form-control" required>
                  </div>

                  <!-- Documento -->
                  <div class="col-12 col-md-6">
                    <label class="form-label small fw-semibold">
                      <i class="bi bi-card-text me-1"></i> Tipo de documento
                    </label>
                    <select name="IdTipoDocumento" id="TipoDocumentoSelect" class="form-select" disabled></select>
                  </div>
                  <div class="col-12 col-md-6">
                    <label class="form-label small fw-semibold">
                      <i class="bi bi-hash me-1"></i> Número de documento
                    </label>
                    <input name="NumeroDocumento" type="text" class="form-control" disabled>
                  </div>

                  <!-- Fecha de nacimiento y Sexo -->
                  <div class="col-12 col-md-6">
                    <label class="form-label small fw-semibold">
                      <i class="bi bi-calendar-event me-1"></i> Fecha de nacimiento
                    </label>
                    <input name="FechaNacimiento" type="date" class="form-control">
                  </div>
                  <div class="col-12 col-md-6">
                    <label class="form-label small fw-semibold">
                      <i class="bi bi-gender-ambiguous me-1"></i> Sexo
                    </label>
                    <select name="IdSexo" id="SexoSelect" class="form-select"></select>
                  </div>

                  <!-- Estado civil y Religión -->
                  <div class="col-12 col-md-6">
                    <label class="form-label small fw-semibold">
                      <i class="bi bi-heart me-1"></i> Estado civil
                    </label>
                    <select name="IdEstadoCivil" id="EstadoCivilSelect" class="form-select"></select>
                  </div>
                  <div class="col-12 col-md-6">
                    <label class="form-label small fw-semibold">
                      <i class="bi bi-church me-1"></i> Religión
                    </label>
                    <select name="IdReligion" id="ReligionSelect" class="form-select"></select>
                  </div>

                  <!-- Tipo de población y Sector -->
                  <div class="col-12 col-md-6">
                    <label class="form-label small fw-semibold">
                      <i class="bi bi-people me-1"></i> Tipo de población
                    </label>
                    <select name="IdTipoPoblacion" id="TipoPoblacionSelect" class="form-select"></select>
                  </div>
                  <div class="col-12 col-md-6">
                    <label class="form-label small fw-semibold">
                      <i class="bi bi-geo-alt me-1"></i> Sector
                    </label>
                    <select name="IdSector" id="SectorSelect" class="form-select"></select>
                  </div>

                  <!-- Grupo familiar y Hijos -->
                  <div class="col-12 col-md-6">
                    <label class="form-label small fw-semibold">
                      <i class="bi bi-house-heart me-1"></i> Grupo familiar
                    </label>
                    <select name="IdGrupoFamiliar" id="GrupoFamiliarSelect" class="form-select"></select>
                  </div>
                  <div class="col-12 col-md-6">
                    <label class="form-label small fw-semibold">
                      <i class="bi bi-person-hearts me-1"></i> Hijos
                    </label>
                    <input name="Hijos" type="number" min="0" step="1" class="form-control" value="0">
                  </div>

                  <!-- Impedimento de salud -->
                  <div class="col-12">
                    <hr class="my-3">
                  </div>
                  
                  <div class="col-12 col-md-6">
                    <label class="form-label small fw-semibold d-block">
                      <i class="bi bi-heart-pulse me-1"></i> Impedimento de salud
                    </label>
                    <div class="form-check form-switch mt-2">
                      <input class="form-check-input" type="checkbox" role="switch" id="SwitchImpedimento" name="TieneImpedimentoSalud">
                      <label class="form-check-label" for="SwitchImpedimento">¿Tiene impedimento?</label>
                    </div>
                  </div>
                  <div class="col-12 col-md-6">
                    <label class="form-label small fw-semibold">
                      <i class="bi bi-clipboard2-pulse me-1"></i> Motivo del impedimento
                    </label>
                    <input name="MotivoImpedimentoSalud" type="text" class="form-control" placeholder="Ej.: Cirugía reciente">
                  </div>
                </form>

                <!-- Botones de acción modernizados -->
                <div class="d-flex justify-content-end gap-2 mt-4 pt-3 border-top">
                  <button type="button" class="btn btn-outline-secondary" id="btnCancelProfile">
                    <i class="bi bi-x-circle me-1"></i> Cancelar
                  </button>
                  <button type="button" class="btn btn-primary" id="btnSaveProfile">
                    <i class="bi bi-check-circle me-1"></i> Guardar cambios
                  </button>
                </div>
              </div>
            </div>

            <!-- Seguridad modernizada -->
            <div class="card shadow-sm border-0">
              <div class="card-header bg-transparent border-bottom">
                <div class="d-flex align-items-center gap-2">
                  <i class="bi bi-shield-lock text-primary"></i>
                  <h6 class="mb-0 fw-semibold">Seguridad</h6>
                </div>
              </div>
              <div class="card-body p-4">
                <div class="d-flex align-items-center justify-content-between">
                  <div>
                    <p class="mb-1 fw-semibold">Contraseña</p>
                    <p class="mb-0 small text-muted">Actualiza tu contraseña de forma segura</p>
                  </div>
                  <button type="button" id="btnChangePassword" class="btn btn-outline-primary">
                    <i class="bi bi-key me-1"></i> Cambiar contraseña
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script type="module" src="../statics/js/app.js"></script>
</body>
</html>
